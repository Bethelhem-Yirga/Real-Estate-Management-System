{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Update Property</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Global styles */

        *{
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Poppins', sans-serif;

}
body {
width: 100%;
background:#E5E7EB;
position: relative;
display: flex;

}

        
        
        
        
        form {
            max-width: 500px;
            margin-left: 280px;
            margin-top: 120px;
            padding: 20px;
            border: 1px solid #fff;
            background-color:#fff;
            border-radius: 15px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 25px;
            box-sizing: border-box;
        }
        
       .form-group input[type="submit"],
    .form-group button {
        padding: 10px 20px;
        background-color: #4CAF50;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .form-group input[type="submit"]:hover,
    .form-group button:hover {
        background-color: #c7c73a;
        opacity: 0.8;
    }

    .form-group input[type="submit"]:focus,
    .form-group button:focus {
        outline: none;
    }
        
        .form-group input[type="submit"],
        .form-group button {
            padding: 10px 20px;
            background-color: #c7c73a;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .form-step {
            margin-bottom: 20px;
        }
        
        /* Styles for navigation buttons */
        .form-group button {
            margin-right: 10px;
        }

        
        /* Styles for success message */
        .success-message {
            background-color: lightgreen;
            border: none;
            color: darkgreen;
            font-weight: bold;
            width: 45%;
            padding: 5px;
            margin-top: 130px;
            margin-left: 200px;
            border-radius: 4px;
            text-align: center;
        }
        
        /* Styles for error message */
        .error-message {
  background-color: #FFCCCC;
  border: none;
  color: #FF0000;
  font-weight: bold;
  width: 45%;
  padding: 5px;
  margin-top: 130px;
  margin-left: 200px;
  border-radius: 4px;
  text-align: center;

}
        
        @keyframes fade-in {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
    
        /* Media queries for responsive design */
        @media (max-width: 767px) {
            form {
                max-width: 100%;
                padding: 10px;
            }
            
            .success-message,
            .error-message {
                width: 100%;
            }
            
            .form-group input[type="submit"],
            .form-group button {
                width: 100%;
            }
        }
    
        @media (max-width: 480px) {
            h1 {
                font-size: 24px;
            }
            
            form {
                padding: 10px;
            }
            
            .form-group input[type="submit"],
            .form-group button {
                font-size: 14px;
            }
        }
        #menu {
background: #111827;
width: 300px;
height: 100%;
position: fixed;
top: 0;
left: 0;
}

#menu .logo{
display: flex;
align-items: center;
color: #fff;
padding: 30px 0 0 30px;
 }


 #menu .logo img {
     width: 60px;
     margin-right: 25px;
}

#menu .items {
    margin-top: 40px;
}


#menu .items li{
list-style: none; 
padding: 3px 0;
transition: 0.3s ease;
}

#menu .items li i{
color: rgb(134, 141, 151);
width: 30px;
height: 30px;
line-height: 30px;
text-align: center;
font-size: 14px;
margin: 10px 0 25px;

}

#menu .items li i a{
    text-decoration: none;
    color: rgb(134, 141, 151);
}


#menu .items li:hover{
    background: #253847; 
    cursor: pointer;
}

#menu .items li:nth-child(1)
{ 
    border-left: 4px solid #fff;
}


#menu .items li:hover i,
#menu .items li:hover a { 
    color: #F3F4F6;
}
#menu .items li a {
    text-decoration: none;
color: rgb(134, 141, 151);
font-weight: 300px;
transition: 0.3s ease;
}

#interface {
width: calc(100% - 300px);
margin-left: 300px;
position: relative;
}

#interface .navigation {
display: flex;
align-items: center;
justify-content: space-between;
background: #fff;
padding: 15px 30px;
border-bottom: 3px solid #594ef7;
position: fixed;
width: calc(100% - 300px);
 }

 
#interface .navigation .search {
    display: flex;
justify-content: flex-start; align-items: center;
padding: 10px 14px;
border: 1px solid #d7dbe6;
border-radius: 4px;
}

#interface .navigation .search i {
margin-right: 14px;
}


#interface .navigation .search input {
border: none; outline: none;
font-size: 14px;
}


#interface .navigation .profile {
display: flex;
justify-content: flex-start; 
align-items: center;
}

#interface .navigation .profile i {
margin-right: 20px;
font-size: 19px; 
font-weight: 400;
}


#interface .navigation .profile img {
    width: 55px; 
    height: 55px;
    object-fit: cover; 
    border-radius: 50%;
}

.n1{
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

#menu-btn{
    color: #2b2b2b;
    font-size: 20px;
    cursor: pointer;
    margin-right: 50px;
}
    </style>
    
</head>

<body>


    <section id="menu">
        
        <div class="logo">
           <img src="{% static 'img/logo.png' %}" alt="">
           
        </div>
      
 
       <div class="items">
         
             <li><i class="fa fa-chart-pie-alt"></i><a href="#">Dashboard</a></li>
             <li><i class="fab fa-uikit"></i><a href="{% url 'mrk_mng' %}">Properties</a></li>
             <li><i class="fas fa-plus"></i><a href="{% url 'add_property' %}">Add Property</a></li>
             <li><i class="fas fa-user"></i></i><a href="{% url 'profile_view' %}">Profile</a></li>
             <li><i class="fa-solid fa-lock"></i><a href="#">Change Password</a></li>
             <li><i class="fas fa-right-from-bracket"></i><a href="/">Logout</a></li>
            
             
       </div>
      
    </section>

    <section id="interface"> 
        <div class="navigation"> 
            <div class="n1">

                <div>
                    <i id="menu-btn" class="fa-fa-bars"></i>
                </div>


               
           </div>
           {% if marketing_manager_profile %}
           <div class="profile">
              
              <img src="{{ marketing_manager_profile.img.url }}" alt="">
          </div>
          {% endif %}
        </div>

    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
   {% endif %} 
   
   
    <h1>Update Property</h1>
    <form id="property-form" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-step" id="step1">
            <div class="form-group">
                <label for="id_propertyType">Property Type:</label>
                {{ form.propertyType }}
            </div>

             
            
            <!-- Add a "Next" button to navigate to the next step -->
            <div class="form-group">
                <button type="button" onclick="nextStep(2)">Next</button>
            </div>
        </div>
        
        <!-- Step 2: Location -->
        <div class="form-step" id="step2" style="display: none;">
            <div class="form-group">
                <label for="id_country">Country:</label>
                {{ form.country }}
            </div>
            
            <div class="form-group">
                <label for="id_city">City:</label>
                {{ form.city }}
            </div>
            
            <div class="form-group">
                <label for="id_area">Area:</label>
                {{ form.area }}
            </div>
            
            <!-- Add buttons to navigate between steps -->
            <div class="form-group">
                <button type="button" onclick="prevStep(1)">Previous</button>
                <button type="button" onclick="nextStep(3)">Next</button>
            </div>
        </div>
        
        <!-- Step 3: Description and Size -->
        <div class="form-step" id="step3" style="display: none;">
            <div class="form-group">
                <label for="id_description">Description:</label>
                {{ form.description }}
            </div>
            
           
            <div class="form-group">
                <label for="id_image">Image:</label>
                {{ form.image }}
            </div>
            
            <!-- Add buttons to navigate between steps -->
            <div class="form-group">
                <button type="button" onclick="prevStep(2)">Previous</button>
                <button type="button" onclick="nextStep(4)">Next</button>
            </div>
        </div>
        
        <!-- Step 4: Price and Status -->
        <div class="form-step" id="step4" style="display: none;">
              
            <div class="form-group">
                <label for="id_size">Size:</label>
                {{ form.size }}
            </div>


            <div class="form-group">
                <label for="id_price">Price:</label>
                {{ form.price }}
            </div>
            
            <div class="form-group">
                <label for="id_status">Status:</label>
                {{ form.status }}
            </div>

            <div class="form-group">
                <label for="id_payment_link">Payment Link:</label>
                {{ form.payment_link }}
            </div>
            

            <!-- Add buttons to navigate between steps -->
            <div class="form-group">
                <button type="button" onclick="prevStep(3)">Previous</button>
                <button type="button" onclick="nextStep(5)">Next</button>
            </div>
        </div>
        
        <!-- Step 5: Rooms and Amenities -->
        <div class="form-step" id="step5" style="display: none;">
            <div class="form-group">
                <label for="id_noOfRooms">Number of Rooms:</label>
                {{ form.noOfRooms }}
            </div>
            
            <div class="form-group">
                <label for="id_bedrooms">Bedrooms:</label>
                {{ form.bedrooms }}
            </div>
            
            <div class="form-group">
                <label for="id_bathrooms">Bathrooms:</label>
                {{ form.bathrooms }}
            </div>
            
            <div class="form-group">
                <label for="id_roomFloor">Room Floor:</label>
                {{ form.roomFloor }}
            </div>
            
            <div class="form-group">
                <label for="id_TotalFloor">Total Floor:</label>
                {{ form.TotalFloor }}
            </div>
           
            
            <!-- Add buttons to navigate between steps -->
            <div class="form-group">
                <button type="button" onclick="prevStep(4)">Previous</button>
                <button type="button" onclick="nextStep(6)">Next</button>
            </div>
        </div>

        <div class="form-step" id="step5-2" style="display: none;">
       
            
            <!-- Add checkboxes for amenities -->
            <div class="form-group">
                <label>Amenities:</label><br>
                <input type="checkbox" id="id_air_conditioning" name="air_conditioning" {% if form.air_conditioning.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_air_conditioning">Air Conditioning</label><br>
                <input type="checkbox" id="id_gym" name="gym" {% if form.gym.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_gym">Gym</label><br>
                <input type="checkbox" id="id_laundry" name="laundry" {% if form.laundry.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_laundry">Laundry</label><br>
                <input type="checkbox" id="id_lawn" name="lawn" {% if form.lawn.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_lawn">Lawn</label><br>
                <input type="checkbox" id="id_swimming_pool" name="swimming_pool" {% if form.swimming_pool.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_swimming_pool">Swimming Pool</label><br>
                <input type="checkbox" id="id_wifi" name="wifi" {% if form.wifi.value %}checked{% endif %}>
                <label class="checkbox-label" for="id_wifi">Wi-Fi</label>
                <!-- Add more checkboxes for other amenities -->
            </div>
            
            <!-- Add buttons to navigate between steps -->
            <div class="form-group">
                <input type="submit" value="Update Property">
            </div>
        </div>

        
    </form>
</section>

    <script>
        // JavaScript code for handling the multi-step form
        const form = document.getElementById('property-form');
        const steps = document.getElementsByClassName('form-step');
        let currentStep = 1;
        
        // Function to show the specified step and hide the others
        function showStep(step) {
            for (let i = 0; i < steps.length; i++) {
                if (i + 1 === step) {
                    steps[i].style.display = 'block';
                } else {
                    steps[i].style.display = 'none';
                }
            }
        }
        
        // Function to navigate to the next step
        function nextStep() {
           if (validateStep(currentStep)) {
                  currentStep++;
                  showStep(currentStep);
            }
        }

        function prevStep() {
              currentStep--;
              showStep(currentStep);
             }
        
        // Function to validate a step (you can implement your own validation logic)
        function validateStep(step) {
            if (step === 1) {
                if (!form.propertyType.value) {
                    alert('Please select a property type.');
                    return false;
                }
            } else if (step === 2) {
                if (!form.country.value || !form.city.value || !form.area.value) {
                    alert('Please fill in all location fields.');
                    return false;
                }
            }
            // Add validation logic for other steps
            
            return true;
        }

        
        // Show the initial step
        showStep(currentStep);
    </script>
</body>
</html>